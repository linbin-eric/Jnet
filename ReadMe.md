## 2024 年 02 月 05 日 15:49:48

对于管道上的写动作，可能会被管道自身的读节点中的逻辑执行，也可能被其他地方执行。即，存在并发的风险。因此需要考虑并发的问题。
对于管道上的读动作，因为只有通道上数据被读取后调用。而对于 AIO 而言，一个读取事件没有完成的情况下，不会执行下一个读取事件，因此可以认为是无并发。
所以两者要采用不同的并发保护逻辑。
所以读取可以采用的策略有：
1. 使用当前 IO 事件的线程。
2. 使用当前通道绑定的处理线程。

两种方式都可以保证通道的代码是处于非并发执行状态。

写动作可以采取的策略有：
1. 使用当前通道绑定的处理线程。

通道绑定处理线程，来保障通道内的代码处于非并发执行的状态。而一个线程会被多个通道绑定，因此通道上执行逻辑的速度会互相影响通道的效率。

